digraph FinancialToolkit {
    rankdir=LR;
    node [shape=box, fontsize=12];

    DataExtractor [label="DataExtractor\nMethods: fetch_historic_prices, fetch_dividends, fetch_splits, fetch_fundamental_data"];
    YahooFinanceExtractor [label="YahooFinanceExtractor\nMethods: fetch_historical_prices_batch, fetch_historical_prices, fetch_dividends, fetch_splits, fetch_fundamental_data"];
    AlphaVantageExtractor [label="AlphaVantageExtractor\nMethods: fetch_historical_prices, fetch_dividends, fetch_splits, fetch_fundamental_data"];

    PriceData [label="PriceData\nAttributes: symbol, date, open, high, low, close, volume, adjusted_close, source"];
    DividendData [label="DividendData\nAttributes: symbol, date, dividend, source"];
    SplitsData [label="SplitsData\nAttributes: symbol, data, source"];
    FundamentalData [label="FundamentalData\nAttributes: symbol, company_name, report_date, ..."];
    PriceSeriesData [label="PriceSeriesData\nAttributes: prices, mean_price, std_dev, statistics"];
    SimulationResult [label="SimulationResult\nAttributes: portfolio_name, num_simulations, ..."];
    Portfolio [label="Portfolio\nAttributes: holdings, weights, base_currency, ..."];
    MacroSeriesData [label="MacroSeriesData\nAttributes: series_id, description, data, units, ..."];

    DataExtractor -> YahooFinanceExtractor [label="uses"];
    DataExtractor -> AlphaVantageExtractor [label="uses (if API key)"];

    YahooFinanceExtractor -> PriceData;
    YahooFinanceExtractor -> DividendData;
    YahooFinanceExtractor -> SplitsData;
    YahooFinanceExtractor -> FundamentalData;
    AlphaVantageExtractor -> PriceData;
    AlphaVantageExtractor -> DividendData;
    AlphaVantageExtractor -> SplitsData;
    AlphaVantageExtractor -> FundamentalData;

    PriceSeriesData -> PriceData [label="contains list of"];
    Portfolio -> PriceSeriesData [label="holdings (Dict)"];
    Portfolio -> SimulationResult [label="creates"];

    DataExtractor -> FundamentalData [label="returns"];
    DataExtractor -> DividendData [label="returns"];
    DataExtractor -> SplitsData [label="returns"];
    DataExtractor -> PriceSeriesData [label="returns"];
    DataExtractor -> MacroSeriesData [label="returns (if available)"];

    SplitsData -> PriceData [label="may reference"];
}

